<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="LG Electronics America R&D Center">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Viewing and subscribing to ground truth data - SVL Simulator</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Viewing and subscribing to ground truth data";
    var mkdocs_page_input_path = "perception-ground-truth.md";
    var mkdocs_page_url = "/perception-ground-truth/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-130546445-1', 'svlsimulator.com/docs');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <!-- edit link, open in new tab -->
        <a href="https://www.svlsimulator.com" class="icon icon-home" target="_blank_"> SVL Simulator</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Quick start</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../getting-started/">Getting started</a>
                </li>
                <li class="">
                    
    <a class="" href="../keyboard-shortcuts/">Keyboard shortcuts</a>
                </li>
                <li class="">
                    
    <a class="" href="../changelog/">Release notes</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Web User Interface</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../maps-tab/">Maps</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../vehicles-tab/">Vehicles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../sensor-json-options/">Sensor parameters</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../clusters-tab/">Clusters</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../simulations-tab/">Simulations</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Simulation User Interface</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../simulation-menu/">Menu items</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../sensor-visualizers/">Sensor visualization</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../bridge-connection-ui/">Bridge topics</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../config-and-cmd-line-params/">Configuration File and Command Line Parameters</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Integration with AD</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Running with Autoware.AI</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../autoware-instructions/">Instructions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../autoware-json-example/">Sample sensor configuration</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Running with Autoware.Auto</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../autoware-auto-instructions/">Instructions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../autoware-auto-json-example/">Sample sensor configuration</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Running with latest Apollo</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../apollo-master-instructions/">Instructions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../modular-testing/">Modular testing</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Running with Apollo 5.0</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../apollo5-0-instructions/">Instructions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../apollo5-0-json-example/">Sample sensor configuration</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Running with Apollo 3.0</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../apollo-instructions/">Instructions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../apollo-json-example/">Sample sensor configuration</a>
                </li>
    </ul>
                </li>
                <li class=" current">
                    
    <span class="caption-text">SVL ROS/ROS2 Message Definitions</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../lgsvl-msgs/">The lgsvl_msgs package</a>
                </li>
                <li class="toctree-l3 current">
                    
    <span class="caption-text">Ground truth obstacles</span>
    <ul class="subnav">
                <li class="toctree-l4 current">
                    
    <a class="current" href="./">Viewing and subscribing to ground truth data</a>
    <ul class="subnav">
            
    <li class="toctree-l5"><a href="#overview">Overview</a></li>
    

    <li class="toctree-l5"><a href="#view-ground-truth-obstacles-in-simulator">View ground truth obstacles in Simulator</a></li>
    
        <ul>
        
            <li><a class="toctree-l6" href="#bounding-box-colors">Bounding box colors</a></li>
        
        </ul>
    

    <li class="toctree-l5"><a href="#subscribe-to-ground-truth-ros-messages">Subscribe to ground truth ROS messages</a></li>
    
        <ul>
        
            <li><a class="toctree-l6" href="#install-the-lgsvl_msgs-ros-package">Install the lgsvl_msgs ROS package</a></li>
        
            <li><a class="toctree-l6" href="#subscribe-to-ground-truth-messages-from-simulator">Subscribe to ground truth messages from Simulator</a></li>
        
        </ul>
    

    <li class="toctree-l5"><a href="#view-estimated-detections-in-simulator">View estimated detections in Simulator</a></li>
    

    </ul>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../ground-truth-json-example/">Sample sensor configuration for data collection</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Python API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../python-api/">Python API guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../api-quickstart-descriptions/">Python API quickstart examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../api-example-descriptions/">Python API use case examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../api-how-to-run-scenario/">How to run a scenario</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tutorials</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../openai-gym/">Reinforcement learning with OpenAI Gym</a>
                </li>
                <li class="">
                    
    <a class="" href="../lane-following/">Deep Learning lane following model</a>
                </li>
                <li class="">
                    
    <a class="" href="../create-ros2-ad-stack/">How to create a simple ROS2-based AD stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../control-calibration/">How to collect data with control calibration sensor</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Advanced</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../simulator-messages/">Supported message types</a>
                </li>
                <li class="">
                    
    <a class="" href="../simulator-coordinate-system/">Simulator coordinate system</a>
                </li>
                <li class="">
                    
    <a class="" href="../map-annotation/">Map annotation</a>
                </li>
                <li class="">
                    
    <a class="" href="../build-instructions/">Build instructions</a>
                </li>
                <li class="">
                    
    <a class="" href="../assets/">Adding assets</a>
                </li>
                <li class="">
                    
    <a class="" href="../add-new-map/">Adding a new map</a>
                </li>
                <li class="">
                    
    <a class="" href="../add-new-ego-vehicle/">Adding a new ego vehicle</a>
                </li>
                <li class="">
                    
    <a class="" href="../npc-map-navigation/">NPC map navigation</a>
                </li>
                <li class="">
                    
    <a class="" href="../ros2-bridge/">Setting up ROS 2 bridge</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Plugins</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../sensor-plugins/">Sensor plugins</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../lidar-plugin/">Lidar sensor plugin</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../bridge-plugins/">Bridge plugins</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../controllable-plugins/">Controllable plugins</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../npc-plugins/">Traffic behavior plugins</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../ego-vehicle-dynamics/">Vehicle dynamics</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Point cloud</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../pointcloud-import/">Point cloud import</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../pointcloud-rendering/">Point cloud rendering</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../unity-help/">Unity help</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Support</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../troubleshooting/">Troubleshooting</a>
                </li>
                <li class="">
                    
    <a class="" href="../faq/">FAQ</a>
                </li>
                <li class="">
                    
    <a class="" href="../contributing/">Contributing</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">SVL Simulator</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Ground truth obstacles &raquo;</li>
        
      
        
          <li>SVL ROS/ROS2 Message Definitions &raquo;</li>
        
      
        
          <li>Integration with AD &raquo;</li>
        
      
    
    <li>Viewing and subscribing to ground truth data</li>
    <li class="wy-breadcrumbs-aside">
      
      <!-- edited to not display Github edit link -->
        <a style="display:none;" href="https://github.com/lgsvl/simulator/edit/master/Docs/perception-ground-truth.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1>Ground Truth Obstacles</h1>
<p>This guide is for Simulator Release <a href="https://github.com/lgsvl/simulator/releases/tag/2019.05">2019.05</a>. To visualize ground truth sensor data in version 2019.07, please activate the ground truth sensors according to the <a href="../ground-truth-json-example/">example</a> sensor configuration file.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h2>
<p>You can use the SVL Simulator to view, subscribe to, and compare  ground truth obstacle information. The simulator allows visualization of 2D or 3D bounding boxes of vehicles, pedestrians, and unknown objects, and publishes detailed information (currently in a custom ROS message format) about the ground truth obstacles.</p>
<h2 id="view-ground-truth-obstacles-in-simulator">View ground truth obstacles in Simulator<a class="headerlink" href="#view-ground-truth-obstacles-in-simulator" title="Permanent link">#</a></h2>
<p>Ground truth obstacles for traffic can be viewed in the simulator with both 3D bounding boxes as well as 2D bounding boxes in the camera.</p>
<p>To view 3D Bounding boxes in the simulator:</p>
<ul>
<li>Start the simulator in the San Francisco map and desired vehicle</li>
<li>Check "Sensor Effects"</li>
<li>Check "Enable Traffic"</li>
<li>Check "Enable Ground Truth 3D"</li>
</ul>
<p>You should see 3D boxes in green highlighting NPC vehicles in the simulator main view.</p>
<p><img alt="ground-truth-3d-boxes" src="../images/ground-truth-3d-boxes.jpg" /></p>
<p>To view 2D bounding boxes:</p>
<ul>
<li>Start the simulator in the San Francisco map with desired vehicle</li>
<li>Check "Ground Truth 2D"</li>
</ul>
<p>You should see 2D boxes highlighting NPC vehicles in the "Ground Truth 2D Camera" camera view.</p>
<p><img alt="ground-truth-2d" src="../images/ground-truth-2d-boxes.jpg" /></p>
<h3 id="bounding-box-colors">Bounding box colors<a class="headerlink" href="#bounding-box-colors" title="Permanent link">#</a></h3>
<ul>
<li>Green: Vehicles</li>
<li>Yellow: Pedestrians</li>
<li>Purple: Unknown</li>
</ul>
<h2 id="subscribe-to-ground-truth-ros-messages">Subscribe to ground truth ROS messages<a class="headerlink" href="#subscribe-to-ground-truth-ros-messages" title="Permanent link">#</a></h2>
<p>SVL Simulator also publishes custom ROS messages describing the ground truth data of non-ego vehicles.</p>
<p>In order to subscribe to the ground truth messages, you will need the ROS package <a href="https://github.com/lgsvl/lgsvl_msgs">lgsvl_msgs</a>. It contains custom ROS message types for 2D and 3D bounding boxes. You will also need to be running rosbridge.</p>
<h3 id="install-the-lgsvl_msgs-ros-package">Install the lgsvl_msgs ROS package<a class="headerlink" href="#install-the-lgsvl_msgs-ros-package" title="Permanent link">#</a></h3>
<h4 id="use-lgsvl-apollo-or-autoware-repository">Use SVL Apollo or Autoware repository<a class="headerlink" href="#use-lgsvl-apollo-or-autoware-repository" title="Permanent link">#</a></h4>
<p>If you are using SVL's forks of <a href="https://github.com/lgsvl/Apollo">Apollo</a> or <a href="https://github.com/lgsvl/Autoware">Autoware</a>, the package is already included as a submodule in the respective workspace:</p>
<ul>
<li>SVL Autoware: <code>autoware -&gt; ros -&gt; src -&gt; msgs -&gt; lgsvl_msgs</code></li>
<li>SVL Apollo: <code>apollo -&gt; ros_pkgs -&gt; src -&gt; lgsvl_msgs</code></li>
</ul>
<p>Following the instructions to build the ROS workspace will build the <code>lgsvl_msgs</code> package as well.</p>
<p>If you are not running SVL's Apollo or Autoware forks, you can directly clone our <code>lgsvl_msgs</code> package into your ROS workspace and build.</p>
<h4 id="manually-install-lgsvl_msgs">Manually install lgsvl_msgs<a class="headerlink" href="#manually-install-lgsvl_msgs" title="Permanent link">#</a></h4>
<ol>
<li>Clone <code>lgsvl_msgs</code> to your ROS workspace or <code>msgs</code> directory:</li>
</ol>
<p><code>$ git clone https://github.com/lgsvl/lgsvl_msgs {MY_ROS_WS}</code></p>
<ol>
<li>Build the ROS workspace:</li>
</ol>
<p><code>$ catkin_make</code></p>
<h3 id="subscribe-to-ground-truth-messages-from-simulator">Subscribe to ground truth messages from Simulator<a class="headerlink" href="#subscribe-to-ground-truth-messages-from-simulator" title="Permanent link">#</a></h3>
<p>You can subscribe to ground truth messages published as ROS messages (when 2D/3D ground truth are enabled)</p>
<ul>
<li>Topic: /simulator/ground_truth/2d_detections</li>
<li>
<p>Message type: lgsvl_msgs/Detection2DArray: <a href="https://github.com/lgsvl/lgsvl_msgs/blob/master/msg/Detection2DArray.msg">Link</a></p>
</li>
<li>
<p>Topic: /simulator/ground_truth/3d_detections</p>
</li>
<li>Message type: lgsvl_msgs/Detection3DArray: <a href="https://github.com/lgsvl/lgsvl_msgs/blob/master/msg/Detection3DArray.msg">Link</a></li>
</ul>
<h2 id="view-estimated-detections-in-simulator">View estimated detections in Simulator<a class="headerlink" href="#view-estimated-detections-in-simulator" title="Permanent link">#</a></h2>
<p>If you are running Autoware with SVL Simulator, you can also visualize Autoware object detection outputs in the simulator for both Lidar-based and Camera-based detections. Make sure that Autoware perception module is running and detection output topics have output messages.</p>
<p>(You can also publish to the below topics even if you are not using Autoware)</p>
<p>Required ROS topics:
- For Lidar detections: /detection/lidar_objects
- For Camera detections: /detection/vision_objects</p>
<p>To view Lidar detections:</p>
<ul>
<li>Start the simulator in the San Francisco map with XE_Rigged-autoware vehicle</li>
<li>Check "Sensor Effects"</li>
<li>Check "Enable LIDAR"</li>
<li>Check "Enable Lidar Prediction"</li>
</ul>
<p>You should see 3D bounding boxes highlighting Autoware Lidar detections in the simulator main view.</p>
<p>To view Camera detections:</p>
<ul>
<li>Start the simulator in the San Francisco map with XE_Rigged-autoware vehicle</li>
<li>Check "Toggle Main Camera"</li>
<li>Check "Enable Camera Prediction"</li>
</ul>
<p>You should see 2D bounding boxes highlighting Autoware Camera detections in the simulator main camera view.</p>
<p><img alt="ground-truth-visualizations" src="../images/ground-truth-visuals.jpg" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ground-truth-json-example/" class="btn btn-neutral float-right" title="Sample sensor configuration for data collection">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../lgsvl-msgs/" class="btn btn-neutral" title="The lgsvl_msgs package"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2019-2020 LG Electronics Inc.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/lgsvl/simulator/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../lgsvl-msgs/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ground-truth-json-example/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../javascripts/clipboard.js" defer></script>
      <script src="../javascripts/copy-to-clipboard.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
